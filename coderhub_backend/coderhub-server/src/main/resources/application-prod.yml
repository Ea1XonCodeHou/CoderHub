coder:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    host: mysql
    port: 3306
    database: coder_hub
    username: root
    password: ${DB_PASSWORD} # 从环境变量读取

  # 阿里云 OSS 从环境变量读取
  alioss:
    endpoint: ${OSS_ENDPOINT}
    access-key-id: ${OSS_ACCESS_KEY_ID}
    access-key-secret: ${OSS_ACCESS_KEY_SECRET}
    bucket-name: ${OSS_BUCKET_NAME}

  # MinIO 配置，使用 Docker 网络中的服务名
  minio:
    endpoint: http://minio:9000
    access-key: ${MINIO_USER}
    secret-key: ${MINIO_PASSWORD}
    bucket-name: coderhub-videos
  
  # RabbitMQ配置（生产环境，使用Docker网络）
  rabbitmq:
    host: rabbitmq
    username: ${RABBITMQ_USER}
    password: ${RABBITMQ_PASSWORD}

spring:
  # 覆盖 application.yml 中的 Redis 配置
  data:
    redis:
      host: redis
      port: 6379
      database: 1
      password: 

# AI 相关配置从环境变量读取
langchain4j:
  open-ai:
    chat-model:
      api-key: ${AI_API_KEY}
    streaming-chat-model:
      api-key: ${AI_API_KEY}
  # Chroma 向量数据库配置
  chroma:
    base-url: http://chroma:8000
    collection-name: coderhub_articles
