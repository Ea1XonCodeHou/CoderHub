<template>
  <div class="projects-container">
    <!-- å…¬ç”¨å¯¼èˆªæ  -->
    <NavBar :showWriteBtn="false" @search="handleNavSearch" />

    <!-- HeroåŒºåŸŸ -->
    <section class="hero-section">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">
            <svg class="title-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 7V17C3 17.5304 3.21071 18.0391 3.58579 18.4142C3.96086 18.7893 4.46957 19 5 19H19C19.5304 19 20.0391 18.7893 20.4142 18.4142C20.7893 18.0391 21 17.5304 21 17V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16 21V5C16 4.46957 15.7893 3.96086 15.4142 3.58579C15.0391 3.21071 14.5304 3 14 3H10C9.46957 3 8.96086 3.21071 8.58579 3.58579C8.21071 3.96086 8 4.46957 8 5V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            åˆ†äº«ä½ çš„ç²¾å½©é¡¹ç›®
          </h1>
          <p class="hero-subtitle">
            æ¢ç´¢ä¼˜ç§€å¼€æºé¡¹ç›®ï¼Œå±•ç¤ºä¸ªäººä½œå“ï¼Œä¸å…¨çƒå¼€å‘è€…å…±åŒæˆé•¿
          </p>
          <div class="hero-actions">
            <button class="btn-primary" @click="showUploadModal = true">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              ä¸Šä¼ é¡¹ç›®
            </button>
            <button class="btn-secondary" @click="scrollToSection('showcase')">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12S5 4 12 4s11 8 11 8-4 8-11 8S1 12 1 12z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              æµè§ˆé¡¹ç›®
            </button>
          </div>
          <div class="hero-stats">
            <div class="stat-item">
              <span class="stat-number">{{ mockStats.totalProjects }}</span>
              <span class="stat-label">é¡¹ç›®æ€»æ•°</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">{{ mockStats.totalStars }}k</span>
              <span class="stat-label">è·èµæ•°</span>
            </div>
            <div class="stat-item">
              <span class="stat-number">{{ mockStats.totalForks }}</span>
              <span class="stat-label">Forkæ•°</span>
            </div>
          </div>
        </div>
        <div class="hero-illustration">
          <svg viewBox="0 0 500 400" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="50" y="60" width="400" height="280" rx="12" fill="url(#grad1)"/>
            <rect x="50" y="60" width="400" height="40" rx="12" fill="#34495e"/>
            <circle cx="70" cy="80" r="6" fill="#e74c3c"/>
            <circle cx="90" cy="80" r="6" fill="#f39c12"/>
            <circle cx="110" cy="80" r="6" fill="#2ecc71"/>
            <rect x="80" y="130" width="340" height="180" rx="8" fill="#ecf0f1" opacity="0.9"/>
            <rect x="100" y="150" width="150" height="60" rx="6" fill="#3498db"/>
            <rect x="270" y="150" width="130" height="60" rx="6" fill="#9b59b6"/>
            <rect x="100" y="230" width="100" height="60" rx="6" fill="#e67e22"/>
            <rect x="220" y="230" width="180" height="60" rx="6" fill="#1abc9c"/>
            <defs>
              <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#2c3e50;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#34495e;stop-opacity:1" />
              </linearGradient>
            </defs>
          </svg>
        </div>
      </div>
    </section>

    <!-- Tabåˆ‡æ¢ -->
    <section class="tabs-section">
      <div class="tabs-container">
        <div class="tabs">
          <div 
            :class="['tab-item', { 'active': activeTab === 'showcase' }]" 
            @click="switchToShowcaseTab"
          >
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>ä¼˜ç§€å¼€æºé¡¹ç›®</span>
            <span class="tab-count">{{ showcaseProjects.length }}</span>
          </div>
          <div 
            :class="['tab-item', { 'active': activeTab === 'community' }]" 
            @click="switchToCommunityTab"
          >
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
              <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>ä¸ªäººé¡¹ç›®åˆ†äº«</span>
            <span class="tab-count">{{ communityProjects.length }}</span>
          </div>
        </div>
        <!-- ç­›é€‰å’Œæ’åº -->
        <div class="filter-controls">
          <div class="search-box">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <input 
              type="text" 
              v-model="searchQuery" 
              placeholder="æœç´¢é¡¹ç›®..." 
              @input="handleSearch"
            />
          </div>
          <select v-model="sortBy" class="sort-select">
            <option value="hot">æœ€çƒ­é—¨</option>
            <option value="latest">æœ€æ–°</option>
            <option value="stars">æœ€å¤šStar</option>
          </select>
        </div>
      </div>
    </section>

    <!-- ä¼˜ç§€å¼€æºé¡¹ç›®å±•ç¤º -->
    <section v-if="activeTab === 'showcase'" class="showcase-section" id="showcase">
      <div class="section-header">
        <h2>å¹³å°æ¨èé¡¹ç›®</h2>
        <p>ç²¾å¿ƒæŒ‘é€‰çš„ä¼˜è´¨å¼€æºé¡¹ç›®ï¼Œå€¼å¾—å­¦ä¹ ä¸å€Ÿé‰´</p>
      </div>
      
      <div class="projects-grid">
        <div 
          v-for="project in filteredShowcaseProjects" 
          :key="project.id" 
          class="project-card showcase-card"
          @click="viewProjectDetail(project)"
        >
          <!-- é¡¹ç›®é¢„è§ˆå›¾ -->
          <div class="project-preview">
            <img :src="project.coverImage" :alt="project.projectName" />
            <div class="project-overlay">
              <button class="btn-view">æŸ¥çœ‹è¯¦æƒ…</button>
            </div>
            <!-- æ¨èæ ‡ç­¾ -->
            <div class="badge-recommended">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" fill="currentColor"/>
              </svg>
              æ¨è
            </div>
          </div>
          
          <!-- é¡¹ç›®ä¿¡æ¯ -->
          <div class="project-info">
            <div class="project-header">
              <h3 class="project-name">{{ project.projectName }}</h3>
              <a 
                :href="project.gitUrl" 
                target="_blank" 
                class="git-link"
                @click.stop
              >
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 19C4 20.5 4 16.5 2 16M16 22V18.13C16.0375 17.6532 15.9731 17.1738 15.811 16.7238C15.6489 16.2738 15.3929 15.8634 15.06 15.52C18.2 15.17 21.5 13.98 21.5 8.52C21.4997 7.12383 20.9627 5.7812 20 4.77C20.4559 3.54851 20.4236 2.19835 19.91 1C19.91 1 18.73 0.650001 16 2.48C13.708 1.85882 11.292 1.85882 9 2.48C6.27 0.650001 5.09 1 5.09 1C4.57638 2.19835 4.54414 3.54851 5 4.77C4.03013 5.7887 3.49252 7.14346 3.5 8.55C3.5 13.97 6.8 15.16 9.94 15.55C9.611 15.89 9.35726 16.2954 9.19531 16.7399C9.03335 17.1844 8.96681 17.6581 9 18.13V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                GitHub
              </a>
            </div>
            
            <p class="project-description">{{ project.shortDescription }}</p>
            
            <!-- æŠ€æœ¯æ ˆæ ‡ç­¾ -->
            <div class="tech-stack">
              <span 
                v-for="tech in project.techStacks" 
                :key="tech.id" 
                class="tech-tag"
                :style="{ background: getTechColor(tech.techName) }"
              >
                {{ tech.techName }}
              </span>
            </div>
            
            <!-- ä½œè€…ä¿¡æ¯ -->
            <div class="author-info">
              <img :src="project.author?.avatar || 'https://api.dicebear.com/7.x/avataaars/svg?seed=default'" :alt="project.author?.username" class="author-avatar" />
              <div class="author-details">
                <span class="author-name">{{ project.author?.username || 'åŒ¿åç”¨æˆ·' }}</span>
                <span class="author-role">{{ project.author?.role || 'å¼€å‘è€…' }}</span>
              </div>
            </div>
            
            <!-- é¡¹ç›®ç»Ÿè®¡ -->
            <div class="project-stats">
              <div class="stat" v-if="project.githubStars">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2"/>
                </svg>
                {{ formatNumber(project.githubStars) }} Stars
              </div>
              <div class="stat">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                  <path d="M12 8H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                {{ formatNumber(project.viewCount) }} æµè§ˆ
              </div>
              <div class="stat" v-if="project.categoryName">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M4 7V4C4 3.46957 4.21071 2.96086 4.58579 2.58579C4.96086 2.21071 5.46957 2 6 2H18C18.5304 2 19.0391 2.21071 19.4142 2.58579C19.7893 2.96086 20 3.46957 20 4V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <rect x="3" y="7" width="18" height="15" rx="2" stroke="currentColor" stroke-width="2"/>
                </svg>
                {{ project.categoryName }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ä¸ªäººé¡¹ç›®åˆ†äº« -->
    <section v-if="activeTab === 'community'" class="community-section">
      <div class="section-header">
        <h2>ç¤¾åŒºé¡¹ç›®å±•ç¤º</h2>
        <p>å¼€å‘è€…ä»¬çš„ç²¾å½©ä½œå“ä¸å®æˆ˜ç»éªŒåˆ†äº«</p>
      </div>
      
      <div class="projects-masonry">
        <div 
          v-for="project in filteredCommunityProjects" 
          :key="project.id" 
          class="project-card community-card"
          @click="viewProjectDetail(project)"
        >
          <!-- é¡¹ç›®å°é¢ -->
          <div class="project-screenshots">
            <img :src="project.coverImage" :alt="project.projectName" class="main-screenshot" />
            <div v-if="project.screenshots && project.screenshots.length > 0" class="screenshot-count">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/>
                <path d="M21 15L16 10L5 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              {{ project.screenshots.length }}
            </div>
          </div>
          
          <!-- é¡¹ç›®å†…å®¹ -->
          <div class="project-content">
            <div class="project-title-row">
              <h3 class="project-title">{{ project.projectName }}</h3>
              <span v-if="project.isOpenSource" class="badge-open">å¼€æº</span>
            </div>
            
            <p class="project-intro">{{ project.shortDescription }}</p>
            
            <!-- æŠ€æœ¯æ ˆ -->
            <div class="tech-tags-wrap">
              <span 
                v-for="tech in project.techStacks.slice(0, 4)" 
                :key="tech.id" 
                class="tech-badge"
              >
                {{ tech.techName }}
              </span>
              <span v-if="project.techStacks.length > 4" class="tech-more">
                +{{ project.techStacks.length - 4 }}
              </span>
            </div>
            
            <!-- é¡¹ç›®é“¾æ¥ -->
            <div class="project-links">
              <a 
                v-if="project.gitUrl" 
                :href="project.gitUrl" 
                target="_blank" 
                class="link-btn"
                @click.stop
              >
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 19C4 20.5 4 16.5 2 16M16 22V18.13C16.0375 17.6532 15.9731 17.1738 15.811 16.7238C15.6489 16.2738 15.3929 15.8634 15.06 15.52C18.2 15.17 21.5 13.98 21.5 8.52C21.4997 7.12383 20.9627 5.7812 20 4.77C20.4559 3.54851 20.4236 2.19835 19.91 1C19.91 1 18.73 0.650001 16 2.48C13.708 1.85882 11.292 1.85882 9 2.48C6.27 0.650001 5.09 1 5.09 1C4.57638 2.19835 4.54414 3.54851 5 4.77C4.03013 5.7887 3.49252 7.14346 3.5 8.55C3.5 13.97 6.8 15.16 9.94 15.55C9.611 15.89 9.35726 16.2954 9.19531 16.7399C9.03335 17.1844 8.96681 17.6581 9 18.13V22" stroke="currentColor" stroke-width="2"/>
                </svg>
                æºç 
              </a>
              <a 
                v-if="project.demoUrl" 
                :href="project.demoUrl" 
                target="_blank" 
                class="link-btn"
                @click.stop
              >
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 13V19C18 19.5304 17.7893 20.0391 17.4142 20.4142C17.0391 20.7893 16.5304 21 16 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V8C3 7.46957 3.21071 6.96086 3.58579 6.58579C3.96086 6.21071 4.46957 6 5 6H11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  <path d="M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                æ¼”ç¤º
              </a>
            </div>
            
            <!-- ä½œè€…å’Œäº’åŠ¨ -->
            <div class="project-footer">
              <div class="author-mini">
                <img :src="project.author?.avatar || 'https://api.dicebear.com/7.x/avataaars/svg?seed=default'" :alt="project.author?.username" />
                <span>{{ project.author?.username || 'åŒ¿åç”¨æˆ·' }}</span>
              </div>
              <div class="interaction-stats">
                <span class="stat-mini">
                  <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M1 12S5 4 12 4s11 8 11 8-4 8-11 8S1 12 1 12z" stroke="currentColor" stroke-width="2"/>
                    <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                  </svg>
                  {{ project.viewCount || 0 }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ä¸Šä¼ é¡¹ç›®æ¨¡æ€æ¡† -->
    <Transition name="modal">
      <div v-if="showUploadModal" class="modal-overlay" @click="showUploadModal = false">
        <div class="modal-content upload-modal-large" @click.stop>
          <div class="modal-header">
            <h3>ğŸš€ ä¸Šä¼ ä½ çš„é¡¹ç›®</h3>
            <button class="close-btn" @click="showUploadModal = false">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
          
          <div class="modal-body">
            <form class="upload-form">
              <!-- é¡¹ç›®åç§° -->
              <div class="form-group">
                <label>é¡¹ç›®åç§° <span class="required">*</span></label>
                <input type="text" placeholder="è¾“å…¥ä½ çš„é¡¹ç›®åç§°" v-model="uploadForm.projectName" maxlength="100" />
              </div>
              
              <!-- ç®€çŸ­æè¿° -->
              <div class="form-group">
                <label>ç®€çŸ­æè¿° <span class="required">*</span></label>
                <input type="text" placeholder="ä¸€å¥è¯ä»‹ç»ä½ çš„é¡¹ç›®ï¼ˆ200å­—ä»¥å†…ï¼‰" v-model="uploadForm.shortDescription" maxlength="200" />
              </div>
              
              <!-- é¡¹ç›®åˆ†ç±» -->
              <div class="form-group">
                <label>é¡¹ç›®åˆ†ç±» <span class="required">*</span></label>
                <div class="category-selector">
                  <div 
                    v-for="cat in categories" 
                    :key="cat.id" 
                    :class="['category-chip', { active: uploadForm.categoryId === cat.id }]"
                    @click="selectCategory(cat)"
                  >
                    {{ cat.categoryName }}
                  </div>
                </div>
              </div>
              
              <!-- æŠ€æœ¯æ ˆé€‰æ‹© -->
              <div class="form-group" v-if="uploadForm.categoryId">
                <label>æŠ€æœ¯æ ˆ <span class="required">*</span> <span class="hint">ï¼ˆæœ€å¤šé€‰æ‹©10ä¸ªï¼‰</span></label>
                <div class="tech-selector">
                  <div 
                    v-for="tech in availableTechStacks" 
                    :key="tech.id" 
                    :class="['tech-chip', { active: isTechSelected(tech.id), popular: tech.isPopular }]"
                    @click="toggleTechStack(tech.id)"
                  >
                    {{ tech.techName }}
                    <span v-if="tech.isPopular" class="hot-badge">çƒ­</span>
                  </div>
                </div>
                <div v-if="uploadForm.techStackIds.length > 0" class="selected-count">
                  å·²é€‰æ‹© {{ uploadForm.techStackIds.length }} é¡¹
                </div>
              </div>
              
              <!-- README è¯¦ç»†æè¿° -->
              <div class="form-group">
                <label>è¯¦ç»†æè¿° <span class="required">*</span></label>
                <div class="readme-upload">
                  <button type="button" class="btn-upload-readme" @click="triggerReadmeInput">
                    ğŸ“„ ä¸Šä¼  README.md
                  </button>
                  <input 
                    type="file" 
                    ref="readmeInput" 
                    accept=".md"
                    style="display: none"
                    @change="handleReadmeUpload"
                  />
                  <span class="readme-hint">æˆ–ç›´æ¥åœ¨ä¸‹æ–¹ç¼–è¾‘Markdown</span>
                </div>
                <textarea 
                  placeholder="é¡¹ç›®è¯¦ç»†æè¿°ï¼ˆæ”¯æŒMarkdownæ ¼å¼ï¼‰ï¼Œå°†å±•ç¤ºåœ¨é¡¹ç›®è¯¦æƒ…é¡µ..." 
                  rows="6"
                  v-model="uploadForm.detailedDescription"
                ></textarea>
              </div>
              
              <!-- å°é¢å›¾ -->
              <div class="form-group">
                <label>å°é¢å›¾ <span class="required">*</span></label>
                <div class="cover-upload">
                  <div v-if="!uploadForm.coverImage" class="upload-zone cover-zone" @click="triggerCoverInput">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>ç‚¹å‡»ä¸Šä¼ å°é¢å›¾</p>
                    <span class="upload-hint">å»ºè®® 16:9 æ¯”ä¾‹ï¼ŒJPG/PNG</span>
                  </div>
                  <div v-else class="cover-preview">
                    <img :src="uploadForm.coverImage" alt="cover" />
                    <button type="button" class="change-cover" @click="triggerCoverInput">æ›´æ¢</button>
                  </div>
                  <input 
                    type="file" 
                    ref="coverInput" 
                    accept="image/*" 
                    style="display: none"
                    @change="handleCoverUpload"
                  />
                </div>
              </div>
              
              <!-- é¡¹ç›®æˆªå›¾ -->
              <div class="form-group">
                <label>é¡¹ç›®æˆªå›¾ <span class="hint">ï¼ˆå¯é€‰ï¼Œæœ€å¤š5å¼ ï¼‰</span></label>
                <div class="upload-area">
                  <div class="upload-zone" @click="triggerFileInput">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M17 8L12 3L7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <p>ç‚¹å‡»ä¸Šä¼ é¡¹ç›®æˆªå›¾</p>
                  </div>
                  <input 
                    type="file" 
                    ref="fileInput" 
                    accept="image/*" 
                    multiple 
                    style="display: none"
                    @change="handleFileUpload"
                  />
                  <div v-if="uploadForm.screenshots.length > 0" class="preview-list">
                    <div v-for="(img, index) in uploadForm.screenshots" :key="index" class="preview-item">
                      <img :src="img" alt="preview" />
                      <button type="button" class="remove-img" @click="removeScreenshot(index)">Ã—</button>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- é“¾æ¥åŒºåŸŸ -->
              <div class="form-row">
                <div class="form-group half">
                  <label>Gitä»“åº“åœ°å€</label>
                  <input type="url" placeholder="https://github.com/..." v-model="uploadForm.gitUrl" />
                </div>
                <div class="form-group half">
                  <label>åœ¨çº¿æ¼”ç¤ºåœ°å€</label>
                  <input type="url" placeholder="https://demo.example.com" v-model="uploadForm.demoUrl" />
                </div>
              </div>
              
              <!-- é¡¹ç›®æ–‡ä»¶ -->
              <div class="form-group">
                <label>é¡¹ç›®å‹ç¼©åŒ… <span class="hint">ï¼ˆå¯é€‰ï¼Œæœ€å¤§100MBï¼‰</span></label>
                <div class="file-upload">
                  <button type="button" class="btn-upload-file" @click="triggerZipInput">
                    ğŸ“¦ ä¸Šä¼ é¡¹ç›®å‹ç¼©åŒ…
                  </button>
                  <input 
                    type="file" 
                    ref="zipInput" 
                    accept=".zip,.rar,.7z" 
                    style="display: none"
                    @change="handleZipUpload"
                  />
                  <span v-if="uploadForm.projectFileUrl" class="file-name">
                    âœ… å·²ä¸Šä¼  ({{ (uploadForm.fileSize / 1024 / 1024).toFixed(2) }} MB)
                  </span>
                  <div v-if="uploadProgress > 0 && uploadProgress < 100" class="upload-progress">
                    <div class="progress-bar" :style="{ width: uploadProgress + '%' }"></div>
                    <span>{{ uploadProgress }}%</span>
                  </div>
                </div>
              </div>
              
              <!-- æ˜¯å¦å¼€æº -->
              <div class="form-group">
                <label>é¡¹ç›®å¯è§æ€§ <span class="required">*</span></label>
                <div class="visibility-options">
                  <label class="visibility-option" :class="{ active: uploadForm.isOpenSource === 1 }">
                    <input type="radio" name="visibility" :value="1" v-model="uploadForm.isOpenSource" />
                    <div class="option-content">
                      <span class="option-icon">ğŸŒ</span>
                      <div class="option-text">
                        <strong>å¼€æºé¡¹ç›®</strong>
                        <span class="option-desc">å±•ç¤ºåœ¨ä¸ªäººé¡¹ç›®åˆ†äº«åŒºï¼Œæ‰€æœ‰äººå¯è§</span>
                      </div>
                    </div>
                  </label>
                  <label class="visibility-option" :class="{ active: uploadForm.isOpenSource === 0 }">
                    <input type="radio" name="visibility" :value="0" v-model="uploadForm.isOpenSource" />
                    <div class="option-content">
                      <span class="option-icon">ğŸ”’</span>
                      <div class="option-text">
                        <strong>ç§æœ‰é¡¹ç›®</strong>
                        <span class="option-desc">ä»…è‡ªå·±å¯è§ï¼Œä¸ä¼šå‡ºç°åœ¨ç¤¾åŒºåˆ—è¡¨</span>
                      </div>
                    </div>
                  </label>
                </div>
              </div>
            </form>
          </div>
          
          <div class="modal-footer">
            <button class="btn-cancel" @click="showUploadModal = false">å–æ¶ˆ</button>
            <button class="btn-submit" :disabled="!canSubmit || isSubmitting" @click="submitProject">
              <span v-if="isSubmitting">æäº¤ä¸­...</span>
              <span v-else>ğŸš€ æäº¤é¡¹ç›®</span>
            </button>
          </div>
        </div>
      </div>
    </Transition>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, watch } from 'vue'
import { useRouter } from 'vue-router'
import NavBar from '@/components/NavBar.vue'
import { projectApi } from '@/api/projectApi'

const router = useRouter()

// ==================== å“åº”å¼æ•°æ® ====================
const activeTab = ref('showcase') // å½“å‰æ ‡ç­¾é¡µï¼šshowcase | community
const searchQuery = ref('') // æœç´¢å…³é”®è¯
const sortBy = ref('hot') // æ’åºæ–¹å¼ï¼šhot | latest | stars
const showUploadModal = ref(false) // æ˜¾ç¤ºä¸Šä¼ æ¨¡æ€æ¡†
const isLoading = ref(false) // åŠ è½½çŠ¶æ€
const isSubmitting = ref(false) // æäº¤çŠ¶æ€

// ç»Ÿè®¡æ•°æ®
const mockStats = ref({
  totalProjects: 0,
  totalStars: 0,
  totalForks: 0
})

// åˆ†ç±»å’ŒæŠ€æœ¯æ ˆæ•°æ®ï¼ˆä»Redisç¼“å­˜è·å–ï¼‰
const categories = ref([])
const selectedCategoryId = ref(null)
const availableTechStacks = ref([])

// ä¸Šä¼ è¡¨å•
const uploadForm = ref({
  projectName: '',
  shortDescription: '',
  detailedDescription: '',
  categoryId: null,
  techStackIds: [],
  difficultyLevel: 2,
  gitUrl: '',
  demoUrl: '',
  videoUrl: '',
  coverImage: '',
  screenshots: [],
  projectFileUrl: '',
  fileSize: 0,
  isOpenSource: 1
})

const fileInput = ref(null) // æˆªå›¾æ–‡ä»¶è¾“å…¥
const zipInput = ref(null) // ZIPæ–‡ä»¶è¾“å…¥
const readmeInput = ref(null) // READMEæ–‡ä»¶è¾“å…¥
const coverInput = ref(null) // å°é¢å›¾è¾“å…¥
const uploadProgress = ref(0) // ä¸Šä¼ è¿›åº¦

// ==================== æ•°æ® ====================
// ä¼˜ç§€å¼€æºé¡¹ç›®ï¼ˆæš‚æ—¶ä¿ç•™Mockï¼Œåç»­ç”±ç®¡ç†å‘˜æ·»åŠ ï¼‰
const showcaseProjects = ref([])

// ä¸ªäººé¡¹ç›®åˆ—è¡¨ï¼ˆä»APIè·å–ï¼‰
const communityProjects = ref([])
const totalProjects = ref(0)
const currentPage = ref(1)
const pageSize = ref(12)


// ==================== è®¡ç®—å±æ€§ ====================
// ç­›é€‰åçš„ä¼˜ç§€é¡¹ç›®ï¼ˆå‰ç«¯ä¸åšè¿‡æ»¤ï¼Œæ•°æ®ä»åç«¯è·å–ï¼‰
const filteredShowcaseProjects = computed(() => showcaseProjects.value)

// ç­›é€‰åçš„ä¸ªäººé¡¹ç›®ï¼ˆæ•°æ®ä»åç«¯è·å–ï¼Œå·²åšåˆ†é¡µï¼‰
const filteredCommunityProjects = computed(() => communityProjects.value)

// å·²é€‰æ‹©çš„åˆ†ç±»åç§°
const selectedCategoryName = computed(() => {
  const cat = categories.value.find(c => c.id === selectedCategoryId.value)
  return cat ? cat.categoryName : 'è¯·é€‰æ‹©åˆ†ç±»'
})

// è¡¨å•éªŒè¯çŠ¶æ€
const canSubmit = computed(() => {
  return uploadForm.value.projectName.trim() &&
    uploadForm.value.shortDescription.trim() &&
    uploadForm.value.detailedDescription.trim() &&
    uploadForm.value.categoryId &&
    uploadForm.value.techStackIds.length > 0 &&
    uploadForm.value.coverImage
})

// ==================== å·¥å…·æ–¹æ³• ====================
// æ ¼å¼åŒ–æ•°å­—
function formatNumber(num) {
  if (num >= 1000) {
    return (num / 1000).toFixed(1) + 'k'
  }
  return num.toString()
}

// è·å–æŠ€æœ¯æ ˆé¢œè‰²
function getTechColor(tech) {
  const colorMap = {
    'Vue': 'linear-gradient(135deg, #42b883 0%, #35495e 100%)',
    'Vue 3': 'linear-gradient(135deg, #42b883 0%, #35495e 100%)',
    'React': 'linear-gradient(135deg, #61dafb 0%, #20232a 100%)',
    'React Native': 'linear-gradient(135deg, #61dafb 0%, #20232a 100%)',
    'Spring Boot': 'linear-gradient(135deg, #6db33f 0%, #4a7c2f 100%)',
    'Spring Cloud': 'linear-gradient(135deg, #6db33f 0%, #4a7c2f 100%)',
    'Node.js': 'linear-gradient(135deg, #68a063 0%, #3c6e2f 100%)',
    'Python': 'linear-gradient(135deg, #3776ab 0%, #ffd343 100%)',
    'TypeScript': 'linear-gradient(135deg, #3178c6 0%, #235a97 100%)',
    'MySQL': 'linear-gradient(135deg, #4479a1 0%, #00758f 100%)',
    'MongoDB': 'linear-gradient(135deg, #4db33d 0%, #3f9a2b 100%)',
    'Redis': 'linear-gradient(135deg, #dc382d 0%, #a02e24 100%)',
    'Docker': 'linear-gradient(135deg, #2496ed 0%, #1d78b5 100%)',
    'Flutter': 'linear-gradient(135deg, #02569b 0%, #0468d7 100%)',
    'LangChain': 'linear-gradient(135deg, #ff6b6b 0%, #c92a2a 100%)',
    'FastAPI': 'linear-gradient(135deg, #009688 0%, #00695c 100%)',
  }
  
  // æ¨¡ç³ŠåŒ¹é…
  for (const [key, color] of Object.entries(colorMap)) {
    if (tech.includes(key) || key.includes(tech)) {
      return color
    }
  }
  
  // é»˜è®¤æ¸å˜è‰²ï¼ˆä¸ Stitch æš–è‰²ç³»ä¸€è‡´ï¼‰
  return 'linear-gradient(135deg, #d97706 0%, #c2410c 100%)'
}

// æœç´¢å¤„ç†(é˜²æŠ–)
let searchTimer = null
function handleSearch() {
  console.log('æœç´¢:', searchQuery.value)
  clearTimeout(searchTimer)
  searchTimer = setTimeout(() => {
    loadShowcaseProjects()
    loadCommunityProjects()
  }, 500)
}

// å¯¼èˆªæœç´¢å¤„ç†
function handleNavSearch(query) {
  searchQuery.value = query
}

// æ»šåŠ¨åˆ°æŒ‡å®šåŒºåŸŸ
function scrollToSection(id) {
  const element = document.getElementById(id)
  if (element) {
    element.scrollIntoView({ behavior: 'smooth', block: 'start' })
  }
}

// æŸ¥çœ‹é¡¹ç›®è¯¦æƒ…
function viewProjectDetail(project) {
  console.log('æŸ¥çœ‹é¡¹ç›®:', project.projectName, 'ID:', project.id)
  router.push(`/project/${project.id}`)
}

// ==================== æ•°æ®åŠ è½½ ====================
// åŠ è½½åˆ†ç±»å’ŒæŠ€æœ¯æ ˆ
async function loadCategories() {
  try {
    const data = await projectApi.getCategories()
    categories.value = data || []
    console.log('åˆ†ç±»åŠ è½½æˆåŠŸ:', categories.value.length)
  } catch (e) {
    console.error('åŠ è½½åˆ†ç±»å¤±è´¥:', e)
  }
}

// æ ¹æ®åˆ†ç±»åŠ è½½æŠ€æœ¯æ ˆ
async function loadTechStacks(categoryId) {
  if (!categoryId) {
    availableTechStacks.value = []
    return
  }
  try {
    const data = await projectApi.getTechStacksByCategory(categoryId)
    availableTechStacks.value = data || []
  } catch (e) {
    console.error('åŠ è½½æŠ€æœ¯æ ˆå¤±è´¥:', e)
  }
}

// åˆ‡æ¢åˆ°ä¼˜ç§€é¡¹ç›®æ ‡ç­¾
function switchToShowcaseTab() {
  console.log('åˆ‡æ¢åˆ°ä¼˜ç§€å¼€æºé¡¹ç›®æ ‡ç­¾')
  activeTab.value = 'showcase'
  console.log('å½“å‰activeTab:', activeTab.value)
}

// åˆ‡æ¢åˆ°ä¸ªäººé¡¹ç›®æ ‡ç­¾
function switchToCommunityTab() {
  console.log('åˆ‡æ¢åˆ°ä¸ªäººé¡¹ç›®åˆ†äº«æ ‡ç­¾')
  activeTab.value = 'community'
  console.log('å½“å‰activeTab:', activeTab.value)
}

// åŠ è½½ä¼˜ç§€å¼€æºé¡¹ç›®
async function loadShowcaseProjects() {
  try {
    const params = {
      categoryId: selectedCategoryId.value || undefined,
      keyword: searchQuery.value || undefined,
      sortBy: sortBy.value === 'stars' ? 'views' : sortBy.value,
      page: 1,
      size: 50 // ä¼˜ç§€é¡¹ç›®æ˜¾ç¤ºæ›´å¤š
    }
    console.log('ğŸ” è¯·æ±‚ä¼˜ç§€å¼€æºé¡¹ç›®ï¼Œå‚æ•°:', params)
    const data = await projectApi.getShowcaseProjects(params)
    console.log('âœ… ä¼˜ç§€å¼€æºé¡¹ç›®å“åº”æ•°æ®:', data)
    console.log('ğŸ“Š å“åº”æ•°æ®ä¸­çš„list:', data?.list)
    showcaseProjects.value = data?.list || []
    console.log('âœ¨ å·²åŠ è½½ä¼˜ç§€é¡¹ç›®æ•°é‡:', showcaseProjects.value.length)
    console.log('ğŸ’¾ showcaseProjects.value:', showcaseProjects.value)
  } catch (e) {
    console.error('âŒ åŠ è½½ä¼˜ç§€é¡¹ç›®å¤±è´¥:', e)
    showcaseProjects.value = []
  }
}

// åŠ è½½ä¸ªäººé¡¹ç›®
async function loadCommunityProjects() {
  isLoading.value = true
  try {
    const params = {
      categoryId: selectedCategoryId.value,
      keyword: searchQuery.value || undefined,
      sortBy: sortBy.value === 'stars' ? 'views' : sortBy.value,
      page: currentPage.value,
      size: pageSize.value
    }
    console.log('ğŸ” è¯·æ±‚ä¸ªäººé¡¹ç›®ï¼Œå‚æ•°:', params)
    const data = await projectApi.getCommunityProjects(params)
    console.log('âœ… ä¸ªäººé¡¹ç›®å“åº”æ•°æ®:', data)
    communityProjects.value = data?.list || []
    totalProjects.value = data?.total || 0
    mockStats.value.totalProjects = totalProjects.value
    console.log('âœ¨ å·²åŠ è½½ä¸ªäººé¡¹ç›®æ•°é‡:', communityProjects.value.length)
    console.log('ğŸ’¾ communityProjects.value:', communityProjects.value)
  } catch (e) {
    console.error('âŒ åŠ è½½ä¸ªäººé¡¹ç›®å¤±è´¥:', e)
    communityProjects.value = []
  } finally {
    isLoading.value = false
  }
}

// ==================== ä¸Šä¼ åŠŸèƒ½ ====================
// é€‰æ‹©åˆ†ç±»
function selectCategory(category) {
  uploadForm.value.categoryId = category.id
  uploadForm.value.techStackIds = []
  loadTechStacks(category.id)
}

// åˆ‡æ¢æŠ€æœ¯æ ˆé€‰æ‹©
function toggleTechStack(techId) {
  const index = uploadForm.value.techStackIds.indexOf(techId)
  if (index > -1) {
    uploadForm.value.techStackIds.splice(index, 1)
  } else if (uploadForm.value.techStackIds.length < 10) {
    uploadForm.value.techStackIds.push(techId)
  }
}

// æ˜¯å¦å·²é€‰æ‹©è¯¥æŠ€æœ¯æ ˆ
function isTechSelected(techId) {
  return uploadForm.value.techStackIds.includes(techId)
}

// è§¦å‘æ–‡ä»¶é€‰æ‹©
function triggerFileInput() {
  fileInput.value?.click()
}

// è§¦å‘ZIPé€‰æ‹©
function triggerZipInput() {
  zipInput.value?.click()
}

// è§¦å‘READMEé€‰æ‹©
function triggerReadmeInput() {
  readmeInput.value?.click()
}

// è§¦å‘å°é¢å›¾é€‰æ‹©
function triggerCoverInput() {
  coverInput.value?.click()
}

// ä¸Šä¼ å°é¢å›¾
async function handleCoverUpload(event) {
  const file = event.target.files[0]
  if (!file) return
  
  if (file.size > 5 * 1024 * 1024) {
    alert('å°é¢å›¾å¤§å°ä¸èƒ½è¶…è¿‡5MB')
    return
  }
  
  try {
    const url = await projectApi.uploadImage(file)
    uploadForm.value.coverImage = url
  } catch (e) {
    alert('å°é¢å›¾ä¸Šä¼ å¤±è´¥')
  }
  event.target.value = ''
}

// å¤„ç†æˆªå›¾ä¸Šä¼ 
async function handleFileUpload(event) {
  const files = Array.from(event.target.files)
  if (files.length + uploadForm.value.screenshots.length > 5) {
    alert('æœ€å¤šåªèƒ½ä¸Šä¼ 5å¼ æˆªå›¾')
    return
  }
  
  for (const file of files) {
    try {
      const url = await projectApi.uploadImage(file)
      uploadForm.value.screenshots.push(url)
    } catch (e) {
      console.error('æˆªå›¾ä¸Šä¼ å¤±è´¥:', e)
    }
  }
  event.target.value = ''
}

// ç§»é™¤æˆªå›¾
function removeScreenshot(index) {
  uploadForm.value.screenshots.splice(index, 1)
}

// å¤„ç†READMEä¸Šä¼ 
async function handleReadmeUpload(event) {
  const file = event.target.files[0]
  if (!file) return
  
  try {
    const result = await projectApi.uploadReadme(file)
    uploadForm.value.detailedDescription = result.content
  } catch (e) {
    alert('READMEè§£æå¤±è´¥')
  }
  event.target.value = ''
}

// å¤„ç†ZIPä¸Šä¼ 
async function handleZipUpload(event) {
  const file = event.target.files[0]
  if (!file) return
  
  if (file.size > 100 * 1024 * 1024) {
    alert('æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡100MB')
    return
  }
  
  try {
    uploadProgress.value = 0
    const result = await projectApi.uploadProjectFile(file, (percent) => {
      uploadProgress.value = percent
    })
    uploadForm.value.projectFileUrl = result.url
    uploadForm.value.fileSize = result.size
  } catch (e) {
    alert('æ–‡ä»¶ä¸Šä¼ å¤±è´¥')
  } finally {
    uploadProgress.value = 0
  }
  event.target.value = ''
}

// æäº¤é¡¹ç›®
async function submitProject() {
  if (!canSubmit.value) {
    alert('è¯·å¡«å†™å¿…å¡«ä¿¡æ¯')
    return
  }
  
  isSubmitting.value = true
  try {
    const data = {
      projectName: uploadForm.value.projectName,
      shortDescription: uploadForm.value.shortDescription,
      detailedDescription: uploadForm.value.detailedDescription,
      categoryId: uploadForm.value.categoryId,
      techStackIds: uploadForm.value.techStackIds,
      difficultyLevel: uploadForm.value.difficultyLevel,
      gitUrl: uploadForm.value.gitUrl || null,
      demoUrl: uploadForm.value.demoUrl || null,
      videoUrl: uploadForm.value.videoUrl || null,
      coverImage: uploadForm.value.coverImage,
      screenshots: uploadForm.value.screenshots,
      projectFileUrl: uploadForm.value.projectFileUrl || null,
      fileSize: uploadForm.value.fileSize || 0,
      isOpenSource: uploadForm.value.isOpenSource
    }
    
    const projectId = await projectApi.createProject(data)
    alert('é¡¹ç›®åˆ›å»ºæˆåŠŸï¼')
    resetUploadForm()
    showUploadModal.value = false
    // è·³è½¬åˆ°é¡¹ç›®è¯¦æƒ…é¡µ
    router.push(`/project/${projectId}`)
  } catch (e) {
    alert('é¡¹ç›®åˆ›å»ºå¤±è´¥ï¼š' + e.message)
  } finally {
    isSubmitting.value = false
  }
}

// é‡ç½®ä¸Šä¼ è¡¨å•
function resetUploadForm() {
  uploadForm.value = {
    projectName: '',
    shortDescription: '',
    detailedDescription: '',
    categoryId: null,
    techStackIds: [],
    difficultyLevel: 2,
    gitUrl: '',
    demoUrl: '',
    videoUrl: '',
    coverImage: '',
    screenshots: [],
    projectFileUrl: '',
    fileSize: 0,
    isOpenSource: 1
  }
  availableTechStacks.value = []
  uploadProgress.value = 0
}

// ==================== ç›‘å¬å™¨ ====================
// ç›‘å¬æ’åºæ–¹å¼å˜åŒ–
watch(sortBy, () => {
  console.log('æ’åºæ–¹å¼å˜åŒ–:', sortBy.value)
  loadShowcaseProjects()
  loadCommunityProjects()
})

// ==================== ç”Ÿå‘½å‘¨æœŸ ====================
onMounted(async () => {
  console.log('é¡¹ç›®é¡µé¢åŠ è½½å®Œæˆ')
  await loadCategories()
  await loadShowcaseProjects() // åŠ è½½ä¼˜ç§€å¼€æºé¡¹ç›®
  await loadCommunityProjects() // åŠ è½½ä¸ªäººé¡¹ç›®
})
</script>

<style scoped>
@import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap');

:global(:root) {
  --primary: #c2410c;
  --accent: #d97706;
  --background: #faf7f2;
  --surface: #f3eee5;
  --text-main: #2d2a26;
  --text-muted: #7c7267;
  --border-warm: #e8e2d9;
  --golden-glow: rgba(251, 191, 36, 0.25);
}

:global(.material-symbols-outlined) {
  font-variation-settings: 'FILL' 0, 'wght' 500, 'GRAD' 0, 'opsz' 24;
}

/* ==================== åŸºç¡€å®¹å™¨ ==================== */
.projects-container {
  min-height: 100vh;
  background: linear-gradient(to bottom, #f8f9fa 0%, #ffffff 100%);
}

/* ==================== Hero åŒºåŸŸ ==================== */
.hero-section {
  background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
  padding: 80px 20px;
  color: white;
  position: relative;
  overflow: hidden;
}

.hero-section::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  opacity: 0.3;
}

.hero-content {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 60px;
  position: relative;
  z-index: 1;
}

.hero-text {
  flex: 1;
}

.hero-title {
  font-size: 48px;
  font-weight: 800;
  margin: 0 0 20px 0;
  display: flex;
  align-items: center;
  gap: 16px;
  line-height: 1.2;
}

.title-icon {
  width: 56px;
  height: 56px;
  stroke-width: 2.5;
  filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
}

.hero-subtitle {
  font-size: 20px;
  opacity: 0.95;
  margin: 0 0 40px 0;
  line-height: 1.6;
}

.hero-actions {
  display: flex;
  gap: 16px;
  margin-bottom: 50px;
}

.btn-primary,
.btn-secondary {
  padding: 14px 32px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-primary {
  background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
  color: white;
  box-shadow: 0 4px 15px rgba(0, 184, 148, 0.4);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,0,0,0.3);
}

.btn-primary svg {
  width: 20px;
  height: 20px;
}

.btn-secondary {
  background: rgba(255,255,255,0.15);
  color: white;
  backdrop-filter: blur(10px);
  border: 2px solid rgba(255,255,255,0.3);
}

.btn-secondary:hover {
  background: rgba(255,255,255,0.25);
  transform: translateY(-2px);
}

.btn-secondary svg {
  width: 20px;
  height: 20px;
}

.hero-stats {
  display: flex;
  gap: 48px;
}

.stat-item {
  display: flex;
  flex-direction: column;
}

.stat-number {
  font-size: 36px;
  font-weight: 800;
  line-height: 1;
  margin-bottom: 8px;
}

.stat-label {
  font-size: 14px;
  opacity: 0.9;
}

.hero-illustration {
  flex: 0 0 500px;
}

.hero-illustration svg {
  width: 100%;
  height: auto;
  filter: drop-shadow(0 10px 30px rgba(0,0,0,0.2));
}

/* ==================== Tabs åŒºåŸŸ ==================== */
.tabs-section {
  background: white;
  border-bottom: 1px solid #e9ecef;
  position: sticky;
  top: 64px;
  z-index: 100;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.tabs-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

.tabs {
  display: flex;
  gap: 8px;
  border-bottom: 2px solid #f1f3f5;
  margin-bottom: 20px;
}

.tab-item {
  padding: 16px 24px;
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  border-bottom: 3px solid transparent;
  transition: all 0.3s ease;
  color: #6c757d;
  font-weight: 600;
  position: relative;
  top: 2px;
}

.tab-item svg {
  width: 20px;
  height: 20px;
}

.tab-item:hover {
  color: #00b894;
  background: #f8f9fa;
}

.tab-item.active {
  color: #00b894;
  border-bottom-color: #00b894;
}

.tab-count {
  background: #e9ecef;
  color: #6c757d;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
}

.tab-item.active .tab-count {
  background: #00b894;
  color: white;
}

.filter-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 20px;
  gap: 16px;
}

.search-box {
  flex: 1;
  max-width: 400px;
  position: relative;
  display: flex;
  align-items: center;
}

.search-box svg {
  position: absolute;
  left: 16px;
  width: 20px;
  height: 20px;
  color: #adb5bd;
}

.search-box input {
  width: 100%;
  padding: 12px 16px 12px 48px;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  font-size: 14px;
  transition: all 0.3s ease;
}

.search-box input:focus {
  outline: none;
  border-color: #00b894;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.sort-select {
  padding: 12px 16px;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  font-size: 14px;
  font-weight: 600;
  color: #495057;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
}

.sort-select:hover {
  border-color: #00b894;
}

.sort-select:focus {
  outline: none;
  border-color: #00b894;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

/* ==================== åŒºå—æ ‡é¢˜ ==================== */
.section-header {
  max-width: 1200px;
  margin: 60px auto 40px auto;
  padding: 0 20px;
  text-align: center;
}

.section-header h2 {
  font-size: 36px;
  font-weight: 800;
  color: #212529;
  margin: 0 0 12px 0;
}

.section-header p {
  font-size: 18px;
  color: #6c757d;
  margin: 0;
}

/* ==================== ä¼˜ç§€å¼€æºé¡¹ç›® Grid ==================== */
.showcase-section {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px 80px 20px;
}

.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
  gap: 32px;
}

.showcase-card {
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  display: flex;
  flex-direction: column;
}

.showcase-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 24px rgba(0,0,0,0.15);
}

.project-preview {
  position: relative;
  width: 100%;
  height: 240px;
  overflow: hidden;
  background: #f8f9fa;
}

.project-preview img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.showcase-card:hover .project-preview img {
  transform: scale(1.05);
}

.project-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 24px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.showcase-card:hover .project-overlay {
  opacity: 1;
}

.btn-view {
  padding: 10px 24px;
  background: white;
  color: #00b894;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-view:hover {
  background: #00b894;
  color: white;
  transform: scale(1.05);
}

.badge-recommended {
  position: absolute;
  top: 16px;
  right: 16px;
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 4px;
  box-shadow: 0 4px 12px rgba(245, 87, 108, 0.4);
}

.badge-recommended svg {
  width: 14px;
  height: 14px;
}

.project-info {
  padding: 24px;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.project-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.project-name {
  font-size: 20px;
  font-weight: 700;
  color: #212529;
  margin: 0;
  flex: 1;
  line-height: 1.3;
}

.git-link {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 6px 12px;
  background: #f8f9fa;
  color: #495057;
  text-decoration: none;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.3s ease;
  flex-shrink: 0;
}

.git-link svg {
  width: 16px;
  height: 16px;
}

.git-link:hover {
  background: #212529;
  color: white;
  transform: scale(1.05);
}

.project-description {
  font-size: 14px;
  color: #6c757d;
  line-height: 1.6;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.tech-stack {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.tech-tag {
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  color: white;
  background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
  white-space: nowrap;
}

.author-info {
  display: flex;
  align-items: center;
  gap: 12px;
  padding-top: 12px;
  border-top: 1px solid #f1f3f5;
}

.author-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
}

.author-details {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.author-name {
  font-size: 14px;
  font-weight: 600;
  color: #212529;
}

.author-role {
  font-size: 12px;
  color: #6c757d;
}

.project-stats {
  display: flex;
  gap: 20px;
  padding-top: 12px;
  border-top: 1px solid #f1f3f5;
}

.stat {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  font-weight: 600;
  color: #6c757d;
}

.stat svg {
  width: 16px;
  height: 16px;
}

/* ==================== ä¸ªäººé¡¹ç›®ç€‘å¸ƒæµ ==================== */
.community-section {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px 80px 20px;
}

.projects-masonry {
  column-count: 3;
  column-gap: 24px;
}

.community-card {
  break-inside: avoid;
  margin-bottom: 24px;
  background: white;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.community-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.12);
}

.project-screenshots {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 10;
  overflow: hidden;
  background: #f8f9fa;
}

.main-screenshot {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.community-card:hover .main-screenshot {
  transform: scale(1.05);
}

.screenshot-count {
  position: absolute;
  bottom: 12px;
  right: 12px;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(10px);
  color: white;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 4px;
}

.screenshot-count svg {
  width: 14px;
  height: 14px;
}

.project-content {
  padding: 20px;
}

.project-title-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 12px;
}

.project-title {
  font-size: 18px;
  font-weight: 700;
  color: #212529;
  margin: 0;
  line-height: 1.3;
  flex: 1;
}

.badge-open {
  padding: 4px 10px;
  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
  color: white;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 600;
  flex-shrink: 0;
}

.project-intro {
  font-size: 14px;
  color: #6c757d;
  line-height: 1.6;
  margin: 0 0 16px 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.tech-tags-wrap {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-bottom: 16px;
}

.tech-badge {
  padding: 4px 10px;
  background: #f8f9fa;
  color: #495057;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  border: 1px solid #e9ecef;
}

.tech-more {
  padding: 4px 10px;
  background: #e9ecef;
  color: #6c757d;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
}

.project-links {
  display: flex;
  gap: 8px;
  margin-bottom: 16px;
}

.link-btn {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 8px 12px;
  background: #f8f9fa;
  color: #495057;
  text-decoration: none;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  transition: all 0.3s ease;
}

.link-btn svg {
  width: 16px;
  height: 16px;
}

.link-btn:hover {
  background: #00b894;
  color: white;
  transform: scale(1.02);
}

.project-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 16px;
  border-top: 1px solid #f1f3f5;
}

.author-mini {
  display: flex;
  align-items: center;
  gap: 8px;
}

.author-mini img {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  object-fit: cover;
}

.author-mini span {
  font-size: 13px;
  font-weight: 600;
  color: #495057;
}

.interaction-stats {
  display: flex;
  gap: 16px;
}

.stat-mini {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  font-weight: 600;
  color: #6c757d;
}

.stat-mini svg {
  width: 16px;
  height: 16px;
}

/* ==================== ä¸Šä¼ æ¨¡æ€æ¡† ==================== */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

.modal-content {
  background: white;
  border-radius: 20px;
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
}

.modal-content.upload-modal-large {
  max-width: 800px;
}

.modal-header {
  padding: 24px 32px;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-header h3 {
  font-size: 24px;
  font-weight: 700;
  margin: 0;
  color: #212529;
}

.close-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  background: #f8f9fa;
  color: #6c757d;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.close-btn:hover {
  background: #e9ecef;
  transform: rotate(90deg);
}

.close-btn svg {
  width: 20px;
  height: 20px;
}

.modal-body {
  padding: 32px;
  overflow-y: auto;
  flex: 1;
}

.upload-form {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form-group label {
  font-size: 14px;
  font-weight: 600;
  color: #495057;
}

.required {
  color: #e74c3c;
}

.form-group input,
.form-group textarea {
  padding: 12px 16px;
  border: 2px solid #e9ecef;
  border-radius: 10px;
  font-size: 14px;
  transition: all 0.3s ease;
  font-family: inherit;
}

.form-group input:focus,
.form-group textarea:focus {
  outline: none;
  border-color: #00b894;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.tech-input-wrapper {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.tech-tags-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.tech-tag-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
  color: white;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
}

.tech-tag-item button {
  background: none;
  border: none;
  color: white;
  font-size: 18px;
  cursor: pointer;
  padding: 0;
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background 0.2s ease;
}

.tech-tag-item button:hover {
  background: rgba(255,255,255,0.2);
}

.upload-area {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.upload-zone {
  border: 2px dashed #ced4da;
  border-radius: 12px;
  padding: 40px 20px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s ease;
  background: #f8f9fa;
}

.upload-zone:hover {
  border-color: #00b894;
  background: rgba(102, 126, 234, 0.05);
}

.upload-zone svg {
  width: 48px;
  height: 48px;
  color: #adb5bd;
  margin-bottom: 16px;
}

.upload-zone p {
  font-size: 16px;
  font-weight: 600;
  color: #495057;
  margin: 0 0 8px 0;
}

.upload-hint {
  font-size: 13px;
  color: #6c757d;
}

.preview-list {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 12px;
}

.preview-item {
  position: relative;
  aspect-ratio: 16 / 10;
  border-radius: 8px;
  overflow: hidden;
  border: 2px solid #e9ecef;
}

.preview-item img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.remove-img {
  position: absolute;
  top: 4px;
  right: 4px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: rgba(0,0,0,0.7);
  backdrop-filter: blur(4px);
  color: white;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.preview-item:hover .remove-img {
  opacity: 1;
}

.remove-img svg {
  width: 12px;
  height: 12px;
}

.file-upload {
  display: flex;
  align-items: center;
  gap: 12px;
}

.btn-upload-file {
  padding: 10px 20px;
  background: #f8f9fa;
  border: 2px solid #e9ecef;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  color: #495057;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
}

.btn-upload-file:hover {
  background: #00b894;
  color: white;
  border-color: #00b894;
}

.btn-upload-file svg {
  width: 18px;
  height: 18px;
}

.file-name {
  font-size: 13px;
  color: #6c757d;
}

/* åˆ†ç±»é€‰æ‹©å™¨ */
.category-selector {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.category-chip {
  padding: 10px 18px;
  background: #f8f9fa;
  border: 2px solid #e9ecef;
  border-radius: 25px;
  font-size: 14px;
  font-weight: 500;
  color: #495057;
  cursor: pointer;
  transition: all 0.3s ease;
}

.category-chip:hover {
  border-color: #00b894;
  color: #00b894;
}

.category-chip.active {
  background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
  color: white;
  border-color: transparent;
}

/* æŠ€æœ¯æ ˆé€‰æ‹©å™¨ */
.tech-selector {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  max-height: 200px;
  overflow-y: auto;
  padding: 4px;
}

.tech-chip {
  padding: 8px 14px;
  background: #f8f9fa;
  border: 2px solid #e9ecef;
  border-radius: 20px;
  font-size: 13px;
  font-weight: 500;
  color: #495057;
  cursor: pointer;
  transition: all 0.2s ease;
  position: relative;
}

.tech-chip:hover {
  border-color: #00b894;
}

.tech-chip.active {
  background: #00b894;
  color: white;
  border-color: #00b894;
}

.tech-chip.popular {
  border-color: #ffd43b;
}

.hot-badge {
  font-size: 10px;
  padding: 2px 5px;
  background: #ff6b6b;
  color: white;
  border-radius: 10px;
  margin-left: 4px;
}

.selected-count {
  font-size: 13px;
  color: #00b894;
  margin-top: 8px;
  font-weight: 500;
}

.hint {
  font-weight: 400;
  color: #adb5bd;
  font-size: 12px;
}

/* READMEä¸Šä¼  */
.readme-upload {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 12px;
}

.btn-upload-readme {
  padding: 10px 20px;
  background: #f8f9fa;
  border: 2px dashed #dee2e6;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  color: #495057;
  cursor: pointer;
  transition: all 0.3s ease;
}

.btn-upload-readme:hover {
  border-color: #00b894;
  color: #00b894;
}

.readme-hint {
  font-size: 13px;
  color: #adb5bd;
}

/* å°é¢å›¾ä¸Šä¼  */
.cover-upload {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.cover-zone {
  height: 160px;
}

.cover-preview {
  position: relative;
  border-radius: 12px;
  overflow: hidden;
}

.cover-preview img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}

.change-cover {
  position: absolute;
  bottom: 10px;
  right: 10px;
  padding: 8px 16px;
  background: rgba(0,0,0,0.7);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 13px;
  cursor: pointer;
  transition: background 0.2s;
}

.change-cover:hover {
  background: rgba(0,0,0,0.9);
}

/* è¡¨å•è¡Œ */
.form-row {
  display: flex;
  gap: 16px;
}

.form-group.half {
  flex: 1;
}

/* ä¸Šä¼ è¿›åº¦ */
.upload-progress {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 12px;
}

.progress-bar {
  height: 6px;
  background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
  border-radius: 3px;
  transition: width 0.3s ease;
}

.checkbox-group {
  display: flex;
  align-items: center;
}

/* å¯è§æ€§é€‰é¡¹ */
.visibility-options {
  display: flex;
  gap: 12px;
}

.visibility-option {
  flex: 1;
  position: relative;
  cursor: pointer;
}

.visibility-option input[type="radio"] {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.visibility-option .option-content {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px;
  border: 2px solid #e9ecef;
  border-radius: 12px;
  transition: all 0.3s ease;
  background: #f8f9fa;
}

.visibility-option:hover .option-content {
  border-color: #00b894;
  background: #fff;
}

.visibility-option.active .option-content {
  border-color: #00b894;
  background: linear-gradient(135deg, rgba(0, 184, 148, 0.1) 0%, rgba(0, 160, 133, 0.1) 100%);
  box-shadow: 0 0 0 3px rgba(0, 184, 148, 0.1);
}

.visibility-option .option-icon {
  font-size: 24px;
  flex-shrink: 0;
}

.visibility-option .option-text {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.visibility-option .option-text strong {
  font-size: 14px;
  font-weight: 600;
  color: #2c3e50;
}

.visibility-option .option-desc {
  font-size: 12px;
  color: #6c757d;
  line-height: 1.4;
}

.checkbox-label {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
}

.checkbox-label input[type="checkbox"] {
  width: 20px;
  height: 20px;
  cursor: pointer;
}

.checkbox-text {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: #495057;
}

.checkbox-text svg {
  width: 18px;
  height: 18px;
  color: #11998e;
}

.modal-footer {
  padding: 20px 32px;
  border-top: 1px solid #e9ecef;
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.btn-cancel,
.btn-submit {
  padding: 12px 28px;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  border: none;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.btn-cancel {
  background: #f8f9fa;
  color: #6c757d;
}

.btn-cancel:hover {
  background: #e9ecef;
}

.btn-submit {
  background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
  color: white;
  box-shadow: 0 4px 12px rgba(0, 184, 148, 0.4);
}

.btn-submit:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 184, 148, 0.5);
}

.btn-submit svg {
  width: 18px;
  height: 18px;
}

/* ==================== Stitch æš–è‰²ç³»è¦†ç›– ==================== */
.projects-container {
  background: var(--background);
  color: var(--text-main);
  font-family: 'Inter', sans-serif;
}

.hero-section {
  background: linear-gradient(135deg, #fff7ee 0%, #f8eada 100%);
  color: #1f2937;
  border-bottom: 1px solid var(--border-warm);
}

.hero-section::before {
  opacity: 0.08;
}

.hero-content {
  max-width: 1440px;
}

.hero-title {
  font-family: 'Crimson Pro', serif;
  color: #1f2937;
}

.hero-subtitle {
  font-family: 'Crimson Pro', serif;
  color: #6b6359;
}

.title-icon {
  color: var(--primary);
}

.btn-primary {
  background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
  box-shadow: 0 8px 20px rgba(217, 119, 6, 0.25);
}

.btn-primary:hover {
  box-shadow: 0 10px 26px rgba(217, 119, 6, 0.35);
}

.btn-secondary {
  background: rgba(255, 255, 255, 0.85);
  color: var(--primary);
  border: 2px solid var(--border-warm);
  backdrop-filter: none;
}

.btn-secondary:hover {
  background: #ffffff;
}

.stat-number {
  color: var(--primary);
}

.stat-label {
  color: var(--text-muted);
}

.tabs-section {
  background: var(--background);
  border-bottom: 1px solid var(--border-warm);
  box-shadow: 0 2px 12px rgba(148, 163, 184, 0.12);
}

.tabs-container {
  max-width: 1440px;
}

.tabs {
  border-bottom-color: var(--border-warm);
}

.tab-item {
  color: var(--text-muted);
}

.tab-item:hover {
  color: var(--primary);
  background: var(--surface);
}

.tab-item.active {
  color: var(--primary);
  border-bottom-color: var(--primary);
}

.tab-count {
  background: var(--surface);
  color: var(--text-muted);
}

.tab-item.active .tab-count {
  background: var(--primary);
  color: #ffffff;
}

.search-box input {
  border-color: var(--border-warm);
  background: #ffffff;
}

.search-box input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.12);
}

.sort-select {
  border-color: var(--border-warm);
  color: #3f3a35;
}

.sort-select:hover,
.sort-select:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.12);
}

.section-header h2 {
  font-family: 'Crimson Pro', serif;
  color: #1f2937;
}

.section-header p {
  color: var(--text-muted);
  font-family: 'Crimson Pro', serif;
}

.showcase-card,
.community-card {
  border: 1px solid var(--border-warm);
  box-shadow: 0 10px 24px rgba(45, 42, 38, 0.08);
  border-radius: 20px;
}

.showcase-card:hover,
.community-card:hover {
  box-shadow: 0 18px 36px rgba(194, 65, 12, 0.12);
}

.project-preview,
.project-screenshots {
  background: var(--surface);
}

.btn-view {
  background: #ffffff;
  color: var(--primary);
}

.btn-view:hover {
  background: var(--primary);
  color: #ffffff;
}

.badge-recommended {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  box-shadow: 0 6px 14px rgba(217, 119, 6, 0.35);
}

.project-name,
.project-title {
  color: #2d2a26;
  font-family: 'Crimson Pro', serif;
}

.git-link {
  background: var(--surface);
  color: #6b6359;
}

.git-link:hover {
  background: #2d2a26;
  color: #ffffff;
}

.project-description,
.project-intro {
  color: var(--text-muted);
  font-family: 'Crimson Pro', serif;
}

.tech-tag {
  background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
}

.author-info,
.project-stats {
  border-top: 1px solid var(--border-warm);
}

.author-name {
  color: #2d2a26;
}

.author-role,
.stat,
.stat-mini {
  color: var(--text-muted);
}

.project-stats .stat svg,
.stat-mini svg {
  color: var(--accent);
}

.badge-open {
  background: linear-gradient(135deg, #d97706 0%, #c2410c 100%);
}

.tech-badge,
.link-btn {
  background: var(--surface);
  border: 1px solid var(--border-warm);
  color: #6b6359;
}

.tech-more {
  background: var(--border-warm);
  color: #6b6359;
}

.link-btn:hover {
  border-color: var(--primary);
  color: var(--primary);
  background: #ffffff;
}

.modal-content {
  border: 1px solid var(--border-warm);
}

.modal-header {
  border-bottom: 1px solid var(--border-warm);
}

.modal-header h3 {
  color: #1f2937;
  font-family: 'Crimson Pro', serif;
}

.close-btn {
  background: var(--surface);
  color: var(--text-muted);
}

.close-btn:hover {
  background: var(--border-warm);
}

.form-group label {
  color: #3f3a35;
}

.form-group input,
.form-group textarea {
  border-color: var(--border-warm);
  background: #ffffff;
}

.form-group input:focus,
.form-group textarea:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.12);
}

.tech-tag-item {
  background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
}

.upload-zone {
  border-color: #d9cfc4;
  background: var(--surface);
}

.upload-zone:hover {
  border-color: var(--primary);
  background: rgba(217, 119, 6, 0.06);
}

.btn-upload-file,
.btn-upload-readme,
.btn-submit {
  background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
  box-shadow: 0 6px 16px rgba(217, 119, 6, 0.25);
}

.btn-upload-file:hover,
.btn-upload-readme:hover,
.btn-submit:hover {
  box-shadow: 0 8px 20px rgba(217, 119, 6, 0.35);
}

.btn-cancel {
  background: var(--surface);
  color: var(--text-muted);
}

.btn-cancel:hover {
  background: var(--border-warm);
}

.visibility-option {
  border-color: var(--border-warm);
}

.visibility-option.active {
  border-color: var(--primary);
  background: rgba(217, 119, 6, 0.08);
}

.category-chip {
  border-color: var(--border-warm);
}

.category-chip.active {
  border-color: var(--primary);
  background: rgba(217, 119, 6, 0.12);
  color: #3f3a35;
}

.tech-chip.active {
  border-color: var(--primary);
  background: rgba(217, 119, 6, 0.12);
}

/* æ¨¡æ€æ¡†åŠ¨ç”» */
.modal-enter-active,
.modal-leave-active {
  transition: opacity 0.3s ease;
}

.modal-enter-active .modal-content,
.modal-leave-active .modal-content {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.modal-enter-from,
.modal-leave-to {
  opacity: 0;
}

.modal-enter-from .modal-content,
.modal-leave-to .modal-content {
  transform: scale(0.9) translateY(20px);
}

/* ==================== å“åº”å¼è®¾è®¡ ==================== */
@media (max-width: 1024px) {
  .projects-masonry {
    column-count: 2;
  }
  
  .hero-content {
    flex-direction: column;
    text-align: center;
  }
  
  .hero-illustration {
    flex: 0 0 auto;
    max-width: 400px;
  }
  
  .hero-actions {
    justify-content: center;
  }
  
  .hero-stats {
    justify-content: center;
  }
}

@media (max-width: 768px) {
  .projects-grid {
    grid-template-columns: 1fr;
  }
  
  .projects-masonry {
    column-count: 1;
  }
  
  .hero-title {
    font-size: 32px;
  }
  
  .hero-subtitle {
    font-size: 16px;
  }
  
  .filter-controls {
    flex-direction: column;
    align-items: stretch;
  }
  
  .search-box {
    max-width: none;
  }
  
  .tabs {
    overflow-x: auto;
  }
}
</style>


